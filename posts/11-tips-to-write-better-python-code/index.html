<!DOCTYPE html><html lang="en">
<!-- Mirrored from www.python-engineer.com/posts/11-tips-to-write-better-python-code/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"/><meta name="og:site_name" content="Python Engineer"/><link rel="canonical" href="https://python-engineer.com/posts/11-tips-to-write-better-python-code"/><meta name="twitter:url" content="https://python-engineer.com/posts/11-tips-to-write-better-python-code"/><meta name="og:url" content="https://python-engineer.com/posts/11-tips-to-write-better-python-code"/><title>11 Tips And Tricks To Write Better Python Code | Python Engineer</title><meta name="twitter:title" content="11 Tips And Tricks To Write Better Python Code | Python Engineer"/><meta name="og:title" content="11 Tips And Tricks To Write Better Python Code | Python Engineer"/><meta name="description" content="I show 11 Tips and Tricks to Write Better Python code! I show a lot of best practices that improve your code by making your code much cleaner and more Pythonic."/><meta name="twitter:description" content="I show 11 Tips and Tricks to Write Better Python code! I show a lot of best practices that improve your code by making your code much cleaner and more Pythonic."/><meta name="og:description" content="I show 11 Tips and Tricks to Write Better Python code! I show a lot of best practices that improve your code by making your code much cleaner and more Pythonic."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="alternate" href="../../feed.rss" type="application/rss+xml" title="Subscribe to Python Engineer"/><meta name="twitter:image" content="../../images/icon.png"/><meta name="og:image" content="../../images/icon.png"/><script async defer data-domain="python-engineer.com" src="../../../plausible.io/js/plausible.js"></script></head><body class="item"><header><div class="header-promotion"><p><div class="wrapper"><p><a href="https://pythonengineer.pallet.com/" target="_blank">üêç Find Python and ML Jobs! üêç</a></p></div></p></div><div class="wrapper"><nav><ul><li class="selected"><a href="../index.html">POSTS</a></li><li><a href="../../courses/index.html">COURSES</a></li><li><a href="../../about/index.html">ABOUT</a></li></ul></nav><a href="../../index.html"><div class="hero-container"><img class="header-image-small" src="../../images/pat_face_bg.webp" alt="Patrick Loeber"/><div class="hero-text-container justify-center"><p>Become a</p><h1 class="colorized-text ">Python Engineer</h1><p class="mobile-hide">Come and learn about</p><ul class="mobile-hide"><li><a class="variant-a" href="../../tags/python/index.html">Python</a></li><li id="regular-li">and</li><li><a class="variant-b" href="../../tags/machine-learning/index.html">Machine Learning</a></li></ul></div></div></a></div></header><article class="page wrapper post-page"><h1 class="blog-header">11 Tips And Tricks To Write Better Python Code</h1><div class="metadata"><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li></ul><span class="post-date">05 Jul 2020, by </span><a class="author-link-post" href="../../authors/patrick/index.html">Patrick Loeber</a></div><div class="video-player"><iframe frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true" src="https://www.youtube-nocookie.com/embed/8OKTAedgFYg"></iframe></div><div class="content page-content m-top"><p>In this tutorial I show 11 Tips and Tricks to <strong>write better Python code</strong>! I show a lot of best practices that improve your code by making your code much cleaner and <strong>more Pythonic</strong>. Here's the overview of all the tips:</p><ul><li>1) Iterate with <code>enumerate()</code> instead of <code>range(len())</code></li><li>2) Use list comprehension instead of raw for-loops</li><li>3) Sort complex iterables with the built-in <code>sorted()</code> method</li><li>4) Store unique values with Sets</li><li>5) Save Memory With Generators</li><li>6) Define default values in Dictionaries with <code>.get()</code> and <code>.setdefault()</code></li><li>7) Count hashable objects with <code>collections.Counter</code></li><li>8) Format Strings with f-Strings (Python 3.6+)</li><li>9) Concatenate Strings with <code>.join()</code></li><li>10) Merge dictionaries with the double asterisk syntax ** (Python 3.5+)</li><li>11) Simplify if-statements with <code>if x in list</code> instead of checking each item separately</li></ul><h2>1) Iterate with <code>enumerate()</code> instead of <code>range(len())</code></h2><p>If we need to iterate over a list and need to <strong>track both the index and the current item</strong>, most people would use the <code>range(len)</code> syntax. In this example we want to iterate over a list, check if the current item is negative, and set the value in our list to 0 in this case. While the <code>range(len)</code> syntax works it's much nicer to use the built-in <code>enumerate</code> function here. This returns both the current index and the current item as a tuple. So we can directly check the value here and also access the item with the index.</p><pre><code><div class="highlight"><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">]</span>
<span class="c1"># weak:</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># better:</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">]</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</div></code></pre><h2>2) Use list comprehension instead of raw for-loops</h2><p>Let's say we want to create a list with certain values, in this case a list with all the squared numbers between 0 and 9. The tedious way would be to create an empty list, then use a for loop, do our calculation, and append it to the list:</p><pre><code><div class="highlight"><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">squares</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
</div></code></pre><p>A simpler way to do this is <strong>list comprehension</strong>. Here we only need one line to achieve the same thing:</p><pre><code><div class="highlight"><span></span><span class="c1"># better:</span>
<span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
</div></code></pre><p>List comprehension can be really powerful, and even include <em>if-statements</em>. If you want to learn more about the syntax and good use cases, I have a whole tutorial about list comprehension <a href="../../videos/list-comprehension/index.html">here</a>. Note that the usage of list comprehension is a little bit debatable. It should not be overused, especially not if it impairs the readability of the code. But I personally think this syntax is clear and concise.</p><h2>3) Sort complex iterables with the built-in <code>sorted()</code> method</h2><p>If we need to sort some iterable, e.g., a list, a tuple, or a dictionary, we don't need to implement the sorting algorithm ourselves. We can simply use the built-in <code>sorted</code> function. This automatically sorts the numbers in <strong>ascending order</strong> and returns a new list. If we want to have the result in <strong>descending order</strong>, we can use the argument <code>reverse=True</code>. As I said, this works on any iterable, so here we could also use a tuple. But note that the result is a list again!</p><pre><code><div class="highlight"><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">sorted_data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># [10, 9, 5, 3, 1]</span>
</div></code></pre><p>Now let's say we have a complex iterable. Here a list, and inside the list we have dictionaries, and we want to sort the list according to the age in the dictionary. For this we can also use the <code>sorted</code> function and then pass in the <strong>key argument</strong> that should be used for sorting. The key must be a function, so here we can use a <strong>lambda</strong> and use a one line function that returns the age.</p><pre><code><div class="highlight"><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">},</span> 
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Lisa&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span> 
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Ben&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">}</span>
        <span class="p">]</span>
<span class="n">sorted_data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">])</span>
</div></code></pre><h2>4) Store unique values with Sets</h2><p>If we have a list with multiple values and need to have only <strong>unique</strong> values, a nice trick is to <strong>convert our list to a set</strong>. A Set is an unordered collection data type that has no duplicate elements, so in this case it removes all the duplicates.</p><pre><code><div class="highlight"><span></span><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
<span class="n">my_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span> <span class="c1"># removes duplicates</span>
</div></code></pre><p>If we already know that we want unique elements, like here the prime numbers, we can create a set right away with <strong>curly braces</strong>. This allows Python to make some internal optimizations, and it also has some handy methods for calculating the intersections and differences between two sets.</p><pre><code><div class="highlight"><span></span><span class="n">primes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">19</span><span class="p">}</span>
</div></code></pre><h2>5) Save Memory With Generators</h2><p>In tip #2 I showed you list comprehension. But a <strong>list is not always the best choice</strong>. Let's say we have a very large list with 10000 items and we want to calculate the sum over all the items. We can of course do this with a list, but we might run into memory issues. This is a perfect example where we can <strong>use generators</strong>. Similar to list comprehension we can use <strong>generator comprehension</strong> that has the <strong>same syntax but with parenthesis</strong> instead of square brackets. A generator computes our elements lazily, i.e., it produces only one item at a time and only when asked for it. If we calculate the sum over this generator, we see that we get the same correct result.</p><pre><code><div class="highlight"><span></span><span class="c1"># list comprehension</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">my_list</span><span class="p">))</span> <span class="c1"># 49995000</span>

<span class="c1"># generator comprehension</span>
<span class="n">my_gen</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">my_gen</span><span class="p">))</span> <span class="c1"># 49995000</span>
</div></code></pre><p>Now let's inspect the size of both the list and the generator with the built-in <code>sys.getsizeof()</code> method. For the list we get over 80000 bytes and for the generator we only get approximately 128 bytes because it only generates one item at a time. This can make a <strong>huge difference when working with large data</strong>, so it's always good to keep the generator in mind!</p><pre><code><div class="highlight"><span></span><span class="kn">import</span> <span class="nn">sys</span> 

<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">my_list</span><span class="p">),</span> <span class="s1">&#39;bytes&#39;</span><span class="p">)</span> <span class="c1"># 87616 bytes</span>

<span class="n">my_gen</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">my_gen</span><span class="p">),</span> <span class="s1">&#39;bytes&#39;</span><span class="p">)</span> <span class="c1"># 128 bytes</span>
</div></code></pre><h2>6) Define default values in Dictionaries with <code>.get()</code> and <code>.setdefault()</code></h2><p>Let's say we have a dictionary with different keys like the <em>item</em> and the <em>price</em> of the item. At some point in our code we want to get the <em>count</em> of the items and we assume that this key is also contained in the dictionary. When we simply try to access the key, it will crash our code and raise a <em>KeyError</em>. So a better way is to use the <code>.get()</code> method on the dictionary. This also returns the value for the key, but it will not raise a <em>KeyError</em> if the key is not available. Instead it returns the default value that we specified, or <em>None</em> if we didn't specify it.</p><pre><code><div class="highlight"><span></span><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="s1">&#39;football&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">:</span> <span class="mf">10.00</span><span class="p">}</span>
<span class="n">count</span> <span class="o">=</span> <span class="n">my_dict</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span> <span class="c1"># KeyError!</span>

<span class="c1"># better:</span>
<span class="n">count</span> <span class="o">=</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># optional default value</span>
</div></code></pre><p>If we want to ask our dictionary for the <em>count</em> and we also want to update the dictionary and put the <em>count</em> into the dictionary if it's not available, we can use the <code>.setdefault()</code> method. This returns the default value that we specified, and the next time we check the dictionary the used key is now available in our dictionary.</p><pre><code><div class="highlight"><span></span><span class="n">count</span> <span class="o">=</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="c1"># 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span> <span class="c1"># {&#39;item&#39;: &#39;football&#39;, &#39;price&#39;: 10.00, &#39;count&#39;: 0}</span>
</div></code></pre><h2>7) Count hashable objects with <code>collections.Counter</code></h2><p>If we need to count the number of elements in a list, there is a very handy tool in the <code>collections</code> module that does exactly this. We just need to import the <code>Counter</code> from <code>collections</code>, and then create our counter object with the list as argument. If we print this, then for each item in our list we see the according number of times that this item appears, and it's also already sorted with the most common item being in front. This is much nicer to calculate it on our own. If we the want to get the count for a certain item, we can simply access this item, and it will return the corresponding count. If the item is not included, then it returns 0.</p><pre><code><div class="highlight"><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span> <span class="c1"># Counter({9: 6, 10: 3, 5: 2, 2: 1})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">counter</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span> <span class="c1"># 3</span>
</div></code></pre><p>It also has a very handy method to return the most common items, which - no surprise - is called <code>most_common()</code>. We can specify if we just want the very most common item, or also the second most and so on by passing in a number. Note that this returns a list of tuples. Each tuple has the value as first value and the count as second value. So if we just want to have the value of the very most common item, we call this method and then we access index 0 in our list (this returns the first tuple) and then again access index 0 to get the value.</p><pre><code><div class="highlight"><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span>
<span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="n">most_common</span> <span class="o">=</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">most_common</span><span class="p">)</span> <span class="c1"># [(9, 6), (10, 3)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">most_common</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># (9, 6)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">most_common</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># 9</span>
</div></code></pre><h2>8) Format Strings with f-Strings (Python 3.6+)</h2><p>This is new since Python 3.6 and in my opinion is the <strong>best way to format a string</strong>. We just have to write an <em>f</em> before our string, and then inside the string we can use curly braces and access variables. This is much simpler and more concise compared to the old formatting rules, and it's also faster. Moreover, we can write expressions in the braces that are evaluated at runtime. So here for example we want to print the squared number of our variable i, and we can simply write this operation in our f-String.</p><pre><code><div class="highlight"><span></span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Alex&quot;</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span> <span class="c1"># Hello Alex</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> squared is </span><span class="si">{</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># 10 squared is 100</span>
</div></code></pre><h2>9) Concatenate Strings with <code>.join()</code></h2><p>Let's say we have a list with different strings, and we want to combine all elements to one string, separated by a space between each word. The bad way is to do it like this:</p><pre><code><div class="highlight"><span></span><span class="n">list_of_strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="s2">&quot;my&quot;</span><span class="p">,</span> <span class="s2">&quot;friend&quot;</span><span class="p">]</span>

<span class="c1"># BAD:</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">list_of_strings</span><span class="p">:</span>
    <span class="n">my_string</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> 
</div></code></pre><p>We defined an empty string, then iterated over the list, and then appended the word and a space to the string. As you should know, <strong>a string is an immutable element</strong>, so here we have to create new strings each time. This code can be very slow for large lists, so you should immediately forget this approach! Much better, much faster, and also much more concise is to the <code>.join()</code> method:</p><pre><code><div class="highlight"><span></span><span class="c1"># GOOD:</span>
<span class="n">list_of_strings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="s2">&quot;my&quot;</span><span class="p">,</span> <span class="s2">&quot;friend&quot;</span><span class="p">]</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">list_of_strings</span><span class="p">)</span>
</div></code></pre><p>This combines all the elements into one string and uses the string in the beginning as a separator. So here we use a string with only a space. If we were for example to use a comma here, then the final string has a comma between each word. This syntax is the <strong>recommended way to combine a list of strings into one string</strong>.</p><h2>10) Merge dictionaries with the double asterisk syntax ** (Python 3.5+)</h2><p>This syntax is new since Python 3.5. If we have two dictionaries and want to merge them, we can use curly braces and double asterisks for both dictionaries. So here dictionary 1 has a <em>name</em> and an <em>age</em>, and dictionary 2 also has the <em>name</em> and then the <em>city</em>. After merging with this concise syntax our final dictionary has all 3 keys in it.</p><pre><code><div class="highlight"><span></span><span class="n">d1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Alex&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="p">}</span>
<span class="n">d2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Alex&#39;</span><span class="p">,</span> <span class="s1">&#39;city&#39;</span><span class="p">:</span> <span class="s1">&#39;New York&#39;</span><span class="p">}</span>
<span class="n">merged_dict</span> <span class="o">=</span> <span class="p">{</span><span class="o">**</span><span class="n">d1</span><span class="p">,</span> <span class="o">**</span><span class="n">d2</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">merged_dict</span><span class="p">)</span> <span class="c1"># {&#39;name&#39;: &#39;Alex&#39;, &#39;age&#39;: 25, &#39;city&#39;: &#39;New York&#39;}</span>
</div></code></pre><h2>11) Simplify if-statements with <code>if x in list</code> instead of checking each item separately</h2><p>Let's say we have a list with main colors red, green, and blue. And somewhere in our code we have a new variable that contains some color, so here <code>c = red</code>. Then we want to check if this is a color from our main colors. We could of course check this against each item in our list like so:</p><pre><code><div class="highlight"><span></span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">]</span>

<span class="n">c</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>

<span class="c1"># cumbersome and error-prone</span>
<span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;red&quot;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;green&quot;</span> <span class="ow">or</span> <span class="n">c</span> <span class="o">==</span> <span class="s2">&quot;blue&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is main color&quot;</span><span class="p">)</span>
</div></code></pre><p>But this can become very cumbersome, and we can easily make mistakes, for example if we have a typo here for <em>red</em>. Much simpler and much better is just to use the syntax <code>if x in list</code>:</p><pre><code><div class="highlight"><span></span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">]</span>

<span class="n">c</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>

<span class="c1"># better:</span>
<span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is main color&quot;</span><span class="p">)</span>
</div></code></pre><h2>Conclusion</h2><p>I hope you enjoyed those tips and learned a few new things! If you have any feedback or other tips you can recommend, please reach out on Twitter or YouTube!</p></div><ul class="actions"><li><a class="youtube-button" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA?sub_confirmation=1" target="_blank" rel="nofollow">Subscribe</a></li><li><a class="twitter-button" href="https://twitter.com/intent/tweet?via=python_engineer&amp;text=11%20Tips%20And%20Tricks%20To%20Write%20Better%20Python%20Code&amp;url=https://python-engineer.com/posts/11-tips-to-write-better-python-code" rel="nofollow" target="_blank">Share</a></li></ul><div class="affiliate-container"><div><h2>FREE VS Code / PyCharm Extensions I Use</h2><p>‚úÖ Write cleaner code with Sourcery, instant refactoring suggestions: <a href="https://sourcery.ai/?utm_source=youtube&amp;utm_campaign=pythonengineer" target="_blank">Link *</a></p><p class="affiliate-note">* This is an affiliate link. By clicking on it you will not have any additional costs, instead you will support me and my project. Thank you! üôè</p></div></div><a class="sponsor-container" href="../../newsletter/index.html" rel="nofollow"><img class="main" src="../../images/numpyhandbook.webp" alt="newsletter"/><div><h2>FREE NumPy Handbook</h2><p>Learn NumPy with this eBook! It covers code examples for all essential functions. Get it for free together with monthly Python tips and news.</p><button class="pill-button">I Want This</button></div></a><div><div><a class="section-header pad-top" href="../../courses/index.html"><h2>Check out my Courses</h2></a><ul class="item-list grid"><li><article class="post-card"><a href="../../courses/tensorflowbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/tfcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-f"><a href="../../tags/tensorflow/index.html">TensorFlow</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/tensorflowbeginner/index.html"><h1 class="description">TensorFlow 2 Beginner</h1><p>Learn all the necessary basics to get started with TensorFlow 2 and Keras.</p></a></article></li><li><article class="post-card"><a href="../../courses/pytorchbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/pytorchcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-c"><a href="../../tags/pytorch/index.html">PyTorch</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/pytorchbeginner/index.html"><h1 class="description">PyTorch Beginner</h1><p>Learn all the necessary basics to get started with this deep learning framework.</p></a></article></li><li><article class="post-card"><a href="../../courses/mlfromscratch/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/mlfromscratch.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-b"><a href="../../tags/machine-learning/index.html">Machine Learning</a></li><li class="variant-d"><a href="../../tags/numpy/index.html">numpy</a></li></ul><a class="post-link" href="../../courses/mlfromscratch/index.html"><h1 class="description">ML From Scratch</h1><p>Implement popular Machine Learning algorithms from scratch using only built-in Python modules and numpy.</p></a></article></li><li><article class="post-card"><a href="../../courses/advancedpython/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/advancedpythoncourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li></ul><a class="post-link" href="../../courses/advancedpython/index.html"><h1 class="description">Advanced Python</h1><p>Advanced Python Tutorials. It covers topics like collections, decorators, generators, multithreading, logging, and much more.</p></a></article></li></ul></div></div></article><footer><div class="wrapper patreon-footer"><h1>Patreon</h1><p>Become a Patron and get exclusive content! Get access to ML From Scratch notebooks, join a private Discord channel, get priority response, and more!</p><div class="gold-patrons"><h3>Special thanks to my Gold Patreons:</h3><p>Tonja J R</p><p>Daniel And Andy</p><p>Sergei</p></div><p>And of course thanks to every other member! I really appreciate the support!</p><a href="https://www.patreon.com/patrickloeber" target="_blank">Find Out More</a></div><div class="wrapper"><p>Copyright ¬© Python Engineer 2022.</p><p>Generated using <a href="https://github.com/johnsundell/publish" target="_blank">Publish</a>.</p><ul class="footer-links"><li><a class="youtube-button youtube-icon" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA" target="_blank">YouTube</a></li><li><a class="social-button twitter-button" href="https://twitter.com/python_engineer" target="_blank">Twitter</a></li><li><a class="social-button github-button" href="https://github.com/python-engineer" target="_blank">GitHub</a></li><li><a class="social-button discord-button" href="https://discord.gg/FHMg9tKFSN" target="_blank">Discord</a></li><li><a class="footer-button" href="../../feed.rss">RSS</a></li><li><a class="footer-button" href="../../about/index.html">Contact</a></li><li><a class="footer-button" href="../../legal-notice/index.html">Legal Notice</a></li><li><a class="footer-button" href="../../privacy-policy/index.html">Privacy Policy</a></li></ul></div></footer></body>
<!-- Mirrored from www.python-engineer.com/posts/11-tips-to-write-better-python-code/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:53 GMT -->
</html>