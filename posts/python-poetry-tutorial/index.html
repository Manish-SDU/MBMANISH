<!DOCTYPE html><html lang="en">
<!-- Mirrored from www.python-engineer.com/posts/python-poetry-tutorial/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"/><meta name="og:site_name" content="Python Engineer"/><link rel="canonical" href="https://python-engineer.com/posts/python-poetry-tutorial"/><meta name="twitter:url" content="https://python-engineer.com/posts/python-poetry-tutorial"/><meta name="og:url" content="https://python-engineer.com/posts/python-poetry-tutorial"/><title>How to use Poetry to manage dependencies in Python | Python Engineer</title><meta name="twitter:title" content="How to use Poetry to manage dependencies in Python | Python Engineer"/><meta name="og:title" content="How to use Poetry to manage dependencies in Python | Python Engineer"/><meta name="description" content="Learn how Poetry can be initialized in a project and used to resolve dependencies."/><meta name="twitter:description" content="Learn how Poetry can be initialized in a project and used to resolve dependencies."/><meta name="og:description" content="Learn how Poetry can be initialized in a project and used to resolve dependencies."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="alternate" href="../../feed.rss" type="application/rss+xml" title="Subscribe to Python Engineer"/><meta name="twitter:image" content="../../images/icon.png"/><meta name="og:image" content="../../images/icon.png"/><script async defer data-domain="python-engineer.com" src="../../../plausible.io/js/plausible.js"></script></head><body class="item"><header><div class="header-promotion"><p><div class="wrapper"><p><a href="https://pythonengineer.pallet.com/" target="_blank">üêç Find Python and ML Jobs! üêç</a></p></div></p></div><div class="wrapper"><nav><ul><li class="selected"><a href="../index.html">POSTS</a></li><li><a href="../../courses/index.html">COURSES</a></li><li><a href="../../about/index.html">ABOUT</a></li></ul></nav><a href="../../index.html"><div class="hero-container"><img class="header-image-small" src="../../images/pat_face_bg.webp" alt="Patrick Loeber"/><div class="hero-text-container justify-center"><p>Become a</p><h1 class="colorized-text ">Python Engineer</h1><p class="mobile-hide">Come and learn about</p><ul class="mobile-hide"><li><a class="variant-a" href="../../tags/python/index.html">Python</a></li><li id="regular-li">and</li><li><a class="variant-b" href="../../tags/machine-learning/index.html">Machine Learning</a></li></ul></div></div></a></div></header><article class="page wrapper post-page"><h1 class="blog-header">How to use Poetry to manage dependencies in Python</h1><div class="metadata"><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-a"><a href="../../tags/basics/index.html">Basics</a></li></ul><span class="post-date">23 Mar 2022, by </span><a class="author-link-post" href="../../authors/pratik/index.html">Pratik Choudhari</a></div><div class="content page-content"><p>The Python programming language has tools for managing environment and interpreter versions such as venv and pyenv respectively. We have talked about virtual environments in Python and how to use them in this <a href="../virtual-environments-python/index.html">blog post</a>.</p><p>Languages like Node.js, Go and Rust have their own utility CLI tool for helping with environment and dependency management for a project. Python lacks a default tool that can do dependency management hence third-party tools need to be used, one such tool is <a href="https://python-poetry.org/">poetry</a>.</p><p>In this article, you will get an overview of how poetry works and how to manage dependencies in poetry.</p><h2>Poetry Installation</h2><p>Linux/Mac/bashonwindows users should execute the following command in a terminal:</p><pre><code><div class="highlight"><span></span><span class="go">curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -</span>
</div></code></pre><p>For windows powershell users:</p><pre><code><div class="highlight"><span></span><span class="gp gp-VirtualEnv">(Invoke-WebRequest -Uri https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py -UseBasicParsing)</span><span class="go">.Content | python -</span>
</div></code></pre><p>To verify if poetry is successfully installed, open a new terminal and check for the version of poetry:</p><pre><code><div class="highlight"><span></span><span class="go">poetry ‚Äìversion</span>
</div></code></pre><h2>Creating a Poetry project</h2><p>To create a new poetry initialized project, we use the command</p><pre><code><div class="highlight"><span></span><span class="go">poetry new my-poetry-project</span>
</div></code></pre><p>Executing this command will create a folder with the following tree structure</p><pre><code><div class="highlight"><span></span><span class="go">my-poetry-project</span>
<span class="go">‚îú‚îÄ‚îÄ my_poetry_project</span>
<span class="go">‚îÇ   ‚îî‚îÄ‚îÄ __init__.py</span>
<span class="go">‚îú‚îÄ‚îÄ pyproject.toml</span>
<span class="go">‚îú‚îÄ‚îÄ README.rst</span>
<span class="go">‚îî‚îÄ‚îÄ tests</span>
<span class="go">    ‚îú‚îÄ‚îÄ __init__.py</span>
<span class="go">    ‚îî‚îÄ‚îÄ test_my_poetry_project.py</span>
</div></code></pre><p>If a project is already created, use <code>poetry init</code> to initialize poetry.</p><p>By default, poetry creates a python package with an appropriate name. The file <code>pyproject.toml</code> is used by poetry to keep a track of project info, python version, development dependencies and other externally installed packages. It is worth noting that the dependencies of dependencies is not stored in <code>pyproject.toml</code> file.</p><p>In Node.js a <code>package-lock.json</code> file is created to lock the dependency versions during installation similarly, a <code>poetry.lock</code> file is created by poetry to lock dependency versions. Storing the version of every package helps poetry to resolve dependency conflicts while installing/updating packages. Also, when another user will use poetry to install dependency the exact same packages would be downloaded and installed.</p><h2>Manage virtual environments with Poetry</h2><p>One of the core features of poetry is the usage of the virtual environment to isolate the project runtime from the global python runtime. If a user is using poetry inside a virtual environment then poetry keeps using it else it creates a separate virtual environment for the project with the default python version of the computer.</p><p><strong>List available environments</strong>:</p><pre><code><div class="highlight"><span></span><span class="go">poetry env list</span>
</div></code></pre><p><strong>Create/use an environment</strong>:</p><p>Specify Python version for environment creation/use. Users can use the path to an environments python interpreter.</p><pre><code><div class="highlight"><span></span><span class="go">poetry env use 3.6</span>
</div></code></pre><p><strong>Remove an environment</strong>:</p><pre><code><div class="highlight"><span></span><span class="go">poetry env remove env-name</span>
</div></code></pre><h2>Add packages with Poetry</h2><p>When a new package is installed both, <code>pyproject.toml</code> and <code>poetry.lock</code>, are updated. Installation is done using the <code>poetry add package-name</code> command, users can also specify version constraints such as:</p><ul><li><code>poetry add pendulum@^2.0.5</code></li><li><code>poetry add "pendulum&gt;=2.0.5"</code></li><li><code>poetry add pendulum==2.0.5</code></li></ul><p>To install multiple packages, specify package names in a sequence such as</p><pre><code><div class="highlight"><span></span><span class="go">poetry add pandas numpy matplotlib </span>
</div></code></pre><h2>Remove packages with Poetry</h2><p>Removing package from the project is easy. Whenever a package is removed its unused dependencies are removed too, updating <code>pyproject.toml</code> and <code>poetry.lock</code>. To remove multiple packages, specify package names in a sequence.</p><pre><code><div class="highlight"><span></span><span class="go">poetry remove pandas</span>
</div></code></pre><h2>Update packages with Poetry</h2><p>Similar to removing a package, updating a package updates <code>pyproject.toml</code> and <code>poetry.lock</code> with new versions and updated dependencies. To update multiple packages, specify package names in a sequence.</p><pre><code><div class="highlight"><span></span><span class="go">poetry update pandas</span>
</div></code></pre><h2>Install all project dependencies with Poetry</h2><p>To setup a newly cloned project with poetry initialized, use the following command</p><pre><code><div class="highlight"><span></span><span class="go">poetry install</span>
</div></code></pre><p>If <code>poetry.lock</code> file is not available, poetry will read the <code>pyproject.toml</code> file, resolve the dependencies, install the packages and create lock file.</p><p>If <code>poetry.lock</code> file is available, poetry will read from lock file to ensure same package versions are installed as other users.</p></div><ul class="actions"><li><a class="youtube-button" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA?sub_confirmation=1" target="_blank" rel="nofollow">Subscribe</a></li><li><a class="twitter-button" href="https://twitter.com/intent/tweet?via=python_engineer&amp;text=How%20to%20use%20Poetry%20to%20manage%20dependencies%20in%20Python&amp;url=https://python-engineer.com/posts/python-poetry-tutorial" rel="nofollow" target="_blank">Share</a></li></ul><div class="affiliate-container"><div><h2>FREE VS Code / PyCharm Extensions I Use</h2><p>‚úÖ Write cleaner code with Sourcery, instant refactoring suggestions: <a href="https://sourcery.ai/?utm_source=youtube&amp;utm_campaign=pythonengineer" target="_blank">Link *</a></p><p class="affiliate-note">* This is an affiliate link. By clicking on it you will not have any additional costs, instead you will support me and my project. Thank you! üôè</p></div></div><a class="sponsor-container" href="../../newsletter/index.html" rel="nofollow"><img class="main" src="../../images/numpyhandbook.webp" alt="newsletter"/><div><h2>FREE NumPy Handbook</h2><p>Learn NumPy with this eBook! It covers code examples for all essential functions. Get it for free together with monthly Python tips and news.</p><button class="pill-button">I Want This</button></div></a><div><div><a class="section-header pad-top" href="../../courses/index.html"><h2>Check out my Courses</h2></a><ul class="item-list grid"><li><article class="post-card"><a href="../../courses/tensorflowbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/tfcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-f"><a href="../../tags/tensorflow/index.html">TensorFlow</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/tensorflowbeginner/index.html"><h1 class="description">TensorFlow 2 Beginner</h1><p>Learn all the necessary basics to get started with TensorFlow 2 and Keras.</p></a></article></li><li><article class="post-card"><a href="../../courses/pytorchbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/pytorchcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-c"><a href="../../tags/pytorch/index.html">PyTorch</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/pytorchbeginner/index.html"><h1 class="description">PyTorch Beginner</h1><p>Learn all the necessary basics to get started with this deep learning framework.</p></a></article></li><li><article class="post-card"><a href="../../courses/mlfromscratch/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/mlfromscratch.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-b"><a href="../../tags/machine-learning/index.html">Machine Learning</a></li><li class="variant-d"><a href="../../tags/numpy/index.html">numpy</a></li></ul><a class="post-link" href="../../courses/mlfromscratch/index.html"><h1 class="description">ML From Scratch</h1><p>Implement popular Machine Learning algorithms from scratch using only built-in Python modules and numpy.</p></a></article></li><li><article class="post-card"><a href="../../courses/advancedpython/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/advancedpythoncourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li></ul><a class="post-link" href="../../courses/advancedpython/index.html"><h1 class="description">Advanced Python</h1><p>Advanced Python Tutorials. It covers topics like collections, decorators, generators, multithreading, logging, and much more.</p></a></article></li></ul></div></div></article><footer><div class="wrapper patreon-footer"><h1>Patreon</h1><p>Become a Patron and get exclusive content! Get access to ML From Scratch notebooks, join a private Discord channel, get priority response, and more!</p><div class="gold-patrons"><h3>Special thanks to my Gold Patreons:</h3><p>Tonja J R</p><p>Daniel And Andy</p><p>Sergei</p></div><p>And of course thanks to every other member! I really appreciate the support!</p><a href="https://www.patreon.com/patrickloeber" target="_blank">Find Out More</a></div><div class="wrapper"><p>Copyright ¬© Python Engineer 2022.</p><p>Generated using <a href="https://github.com/johnsundell/publish" target="_blank">Publish</a>.</p><ul class="footer-links"><li><a class="youtube-button youtube-icon" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA" target="_blank">YouTube</a></li><li><a class="social-button twitter-button" href="https://twitter.com/python_engineer" target="_blank">Twitter</a></li><li><a class="social-button github-button" href="https://github.com/python-engineer" target="_blank">GitHub</a></li><li><a class="social-button discord-button" href="https://discord.gg/FHMg9tKFSN" target="_blank">Discord</a></li><li><a class="footer-button" href="../../feed.rss">RSS</a></li><li><a class="footer-button" href="../../about/index.html">Contact</a></li><li><a class="footer-button" href="../../legal-notice/index.html">Legal Notice</a></li><li><a class="footer-button" href="../../privacy-policy/index.html">Privacy Policy</a></li></ul></div></footer></body>
<!-- Mirrored from www.python-engineer.com/posts/python-poetry-tutorial/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:31 GMT -->
</html>