<!DOCTYPE html><html lang="en">
<!-- Mirrored from www.python-engineer.com/posts/regular-expressions/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"/><meta name="og:site_name" content="Python Engineer"/><link rel="canonical" href="https://python-engineer.com/posts/regular-expressions"/><meta name="twitter:url" content="https://python-engineer.com/posts/regular-expressions"/><meta name="og:url" content="https://python-engineer.com/posts/regular-expressions"/><title>Regular Expressions in Python - ALL You Need To Know | Python Engineer</title><meta name="twitter:title" content="Regular Expressions in Python - ALL You Need To Know | Python Engineer"/><meta name="og:title" content="Regular Expressions in Python - ALL You Need To Know | Python Engineer"/><meta name="description" content="In this Python Tutorial, we will be learning about Regular Expressions (or RE, regex) in Python. Regular expressions are a powerful language for matching text patterns."/><meta name="twitter:description" content="In this Python Tutorial, we will be learning about Regular Expressions (or RE, regex) in Python. Regular expressions are a powerful language for matching text patterns."/><meta name="og:description" content="In this Python Tutorial, we will be learning about Regular Expressions (or RE, regex) in Python. Regular expressions are a powerful language for matching text patterns."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="alternate" href="../../feed.rss" type="application/rss+xml" title="Subscribe to Python Engineer"/><meta name="twitter:image" content="../../images/icon.png"/><meta name="og:image" content="../../images/icon.png"/><script async defer data-domain="python-engineer.com" src="../../../plausible.io/js/plausible.js"></script></head><body class="item"><header><div class="header-promotion"><p><div class="wrapper"><p><a href="https://pythonengineer.pallet.com/" target="_blank">üêç Find Python and ML Jobs! üêç</a></p></div></p></div><div class="wrapper"><nav><ul><li class="selected"><a href="../index.html">POSTS</a></li><li><a href="../../courses/index.html">COURSES</a></li><li><a href="../../about/index.html">ABOUT</a></li></ul></nav><a href="../../index.html"><div class="hero-container"><img class="header-image-small" src="../../images/pat_face_bg.webp" alt="Patrick Loeber"/><div class="hero-text-container justify-center"><p>Become a</p><h1 class="colorized-text ">Python Engineer</h1><p class="mobile-hide">Come and learn about</p><ul class="mobile-hide"><li><a class="variant-a" href="../../tags/python/index.html">Python</a></li><li id="regular-li">and</li><li><a class="variant-b" href="../../tags/machine-learning/index.html">Machine Learning</a></li></ul></div></div></a></div></header><article class="page wrapper post-page"><h1 class="blog-header">Regular Expressions in Python - ALL You Need To Know</h1><div class="metadata"><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-b"><a href="../../tags/crash-course/index.html">Crash Course</a></li></ul><span class="post-date">19 Apr 2020, by </span><a class="author-link-post" href="../../authors/patrick/index.html">Patrick Loeber</a></div><div class="video-player"><iframe frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="true" src="https://www.youtube-nocookie.com/embed/AEE9ecgLgdQ"></iframe></div><div class="content page-content m-top"><p>Regular expressions (REs, or regexes, or regex patterns) are a powerful language for matching text patterns. Possible pattern examples for searches are, e.g., E-mail addresses or domain names. This article gives a basic introduction to regular expressions and shows how regular expressions work in Python. It will cover all the necessary concepts:<br><br>1) Methods to search for matches<br>2) Methods on a match object<br>3) Meta characters<br>4) More special sequences<br>5) Sets<br>6) Quantifier<br>7) Conditions<br>8) Grouping<br>9) Examples<br>10) Modification<br>11) Compilation flags<br><br>Regular expressions inside Python are made available through the `re module:</p><pre><code><div class="highlight"><span></span><span class="kn">import</span> <span class="nn">re</span>
</div></code></pre><p>Using regexes, you specify the rules for the set of possible strings that you want to match. Typically we first define our pattern that we want to search for, and use <code>re.compile()</code> on it. By default, our pattern is case sensitive.</p><pre><code><div class="highlight"><span></span><span class="n">test_string</span> <span class="o">=</span> <span class="s1">&#39;123abc456789abc123ABC&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
</div></code></pre><p><strong>Note</strong>: It is recommended to use raw strings for the search:</p><pre><code><div class="highlight"><span></span><span class="c1">## Use raw strings for the search pattern</span>
<span class="n">a</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">Hello&#39;</span>
<span class="n">b</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;\tHello&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">        Hello</span>
<span class="go">    \tHello</span>
</div></code></pre><h3>Performing matches with compiled objects</h3><p>Once we have our pattern, we can search for this pattern in the text / string that we want to look up.</p><ul><li>match(): Determine if the RE matches at the beginning of the string.</li><li>search(): Scan through a string, looking for any location where this RE matches.</li><li>findall(): Find all substrings where the RE matches, and returns them as a list.</li><li>finditer(): Find all substrings where the RE matches, and returns them as an iterator.</li></ul><h3>Modification methods</h3><p>We will cover these methods later:</p><ul><li>split(): Returns a list where the string has been split at each match</li><li>sub(): Replaces one or many matches with a string</li></ul><pre><code><div class="highlight"><span></span><span class="c1"># finditer()</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;abc123ABC123abc&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;123&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">span</span><span class="p">(),</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="c1"># returns the string</span>

<span class="nb">print</span><span class="p">()</span>
<span class="c1"># findall()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;123&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="c1"># match</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="c1"># search</span>
<span class="n">match</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(0, 3), match=&#39;123&#39;&gt;</span>
<span class="go">    (0, 3) 0 3</span>
<span class="go">    123</span>
<span class="go">    &lt;re.Match object; span=(15, 18), match=&#39;123&#39;&gt;</span>
<span class="go">    (15, 18) 15 18</span>
<span class="go">    123</span>
<span class="go">    </span>
<span class="go">    123</span>
<span class="go">    123</span>
<span class="go">    </span>
<span class="go">    None</span>
<span class="go">    &lt;re.Match object; span=(0, 3), match=&#39;abc&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(0, 3), match=&#39;abc&#39;&gt;</span>
</div></code></pre><p>Note: Methods can also be used directly on the <code>re</code> module. It does not make that much of a difference, but some people prefer explicitely precompiling and binding the pattern to a reusable variable. (See https://stackoverflow.com/questions/452104/is-it-worth-using-pythons-re-compile)</p><pre><code><div class="highlight"><span></span><span class="n">matches</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(3, 6), match=&#39;abc&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(12, 15), match=&#39;abc&#39;&gt;</span>
</div></code></pre><h3>Methods on a Match object</h3><ul><li>group(): Return the string matched by the RE</li><li>start(): Return the starting position of the match</li><li>end(): Return the ending position of the match</li><li>span(): Return a tuple containing the (start, end) positions of the match</li></ul><pre><code><div class="highlight"><span></span><span class="n">test_string</span> <span class="o">=</span> <span class="s1">&#39;123abc456789abc123ABC&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">span</span><span class="p">(),</span> <span class="n">match</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">match</span><span class="o">.</span><span class="n">end</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="c1"># returns the substring that was matched by the RE</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(3, 6), match=&#39;abc&#39;&gt;</span>
<span class="go">    (3, 6) 3 6</span>
<span class="go">    abc</span>
<span class="go">    &lt;re.Match object; span=(12, 15), match=&#39;abc&#39;&gt;</span>
<span class="go">    (12, 15) 12 15</span>
<span class="go">    abc</span>
</div></code></pre><h3>Meta characters</h3><p>Metacharacters are characters with a special meaning:<br>All meta characters: <strong>. ^ $ * + ? { } [ ] &#92; | ( )</strong><br>Meta characters need need to be escaped (with ) if we actually want to search for the char.</p><ul><li>. Any character (except newline character) "he..o"</li><li>^ Starts with "^hello"</li><li>$ Ends with "world$"</li><li>* Zero or more occurrences "aix*"</li><li>+ One or more occurrences "aix+"</li><li>{ } Exactly the specified number of occurrences "al{2}"</li><li>[] A set of characters "[a-m]"</li><li>&#92; Signals a special sequence (can also be used to escape special characters) "&#92;d"</li><li>| Either or "falls|stays"</li><li>( ) Capture and group</li></ul><pre><code><div class="highlight"><span></span><span class="n">test_string</span> <span class="o">=</span> <span class="s1">&#39;python-engineer.com&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\.&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(15, 16), match=&#39;.&#39;&gt;</span>
</div></code></pre><h3>More Metacharacters / Special Sequences</h3><p>A special sequence is a &#92; followed by one of the characters in the list below, and has a special meaning:</p><ul><li>&#92;d :Matches any decimal digit; this is equivalent to the class [0-9].</li><li>&#92;D : Matches any non-digit character; this is equivalent to the class [^0-9].</li><li>&#92;s : Matches any whitespace character;</li><li>&#92;S : Matches any non-whitespace character;</li><li>&#92;w : Matches any alphanumeric (word) character; this is equivalent to the class [a-zA-Z0-9_].</li><li>&#92;W : Matches any non-alphanumeric character; this is equivalent to the class [^a-zA-Z0-9_].</li><li>&#92;b Returns a match where the specified characters are at the beginning or at the end of a word r"&#92;bain" r"ain&#92;b"</li><li>&#92;B Returns a match where the specified characters are present, but NOT at the beginning (or at the end) of a word r"&#92;Bain" r"ain&#92;B"</li><li>&#92;A Returns a match if the specified characters are at the beginning of the string "&#92;AThe"</li><li>&#92;Z Returns a match if the specified characters are at the end of the string "Spain&#92;Z"</li></ul><pre><code><div class="highlight"><span></span><span class="n">test_string</span> <span class="o">=</span> <span class="s1">&#39;hello 123_ heyho hohey&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\s&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\bhey&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s1">&#39;heyho hohey&#39;</span><span class="p">)</span> <span class="c1"># ho-hey, ho\nhey are matches!</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\Ahello&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;123_\Z&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(6, 7), match=&#39;1&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(7, 8), match=&#39;2&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(8, 9), match=&#39;3&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(5, 6), match=&#39; &#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(10, 11), match=&#39; &#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(16, 17), match=&#39; &#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(0, 1), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(1, 2), match=&#39;e&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(2, 3), match=&#39;l&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(3, 4), match=&#39;l&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(4, 5), match=&#39;o&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(6, 7), match=&#39;1&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(7, 8), match=&#39;2&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(8, 9), match=&#39;3&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(9, 10), match=&#39;_&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(11, 12), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(12, 13), match=&#39;e&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(13, 14), match=&#39;y&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(14, 15), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(15, 16), match=&#39;o&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(17, 18), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(18, 19), match=&#39;o&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(19, 20), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(20, 21), match=&#39;e&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(21, 22), match=&#39;y&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(0, 3), match=&#39;hey&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(0, 5), match=&#39;hello&#39;&gt;</span>
</div></code></pre><h3>Sets</h3><p>A set is a set of characters inside a pair of square brackets [] with a special meaning. Append multiple conditions back-to back, e.g. [aA-Z].<br>A ^ (caret) inside a set negates the expression.<br>A - (dash) in a set specifies a range if it is in between, otherwise the dash itself.</p><p>Examples:<br>- [arn] Returns a match where one of the specified characters (a, r, or n) are present<br>- [a-n] Returns a match for any lower case character, alphabetically between a and n<br>- [^arn] Returns a match for any character EXCEPT a, r, and n<br>- [0123] Returns a match where any of the specified digits (0, 1, 2, or 3) are present<br>- [0-9] Returns a match for any digit between 0 and 9<br>- <a href="0-9.html">0-5</a> Returns a match for any two-digit numbers from 00 and 59<br>- [a-zA-Z] Returns a match for any character alphabetically between a and z, lower case OR upper case</p><pre><code><div class="highlight"><span></span><span class="n">test_string</span> <span class="o">=</span> <span class="s1">&#39;hello 123_&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[a-z]&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">test_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(0, 1), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(1, 2), match=&#39;e&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(2, 3), match=&#39;l&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(3, 4), match=&#39;l&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(4, 5), match=&#39;o&#39;&gt;</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="n">dates</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">01.04.2020</span>

<span class="s1">2020.04.01</span>

<span class="s1">2020-04-01</span>
<span class="s1">2020-05-23</span>
<span class="s1">2020-06-11</span>
<span class="s1">2020-07-11</span>
<span class="s1">2020-08-11</span>

<span class="s1">2020/04/02</span>

<span class="s1">2020_04_04</span>
<span class="s1">2020_04_04</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;all dates with a character in between&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d\d\d\d.\d\d.\d\d&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;only dates with - or . in between&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d\d\d\d[-.]\d\d[-.]\d\d&#39;</span><span class="p">)</span> <span class="c1">#  no escape for the . here in the set</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;only dates with - or . in between in May or June&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d\d\d\d[-.]0[56][-.]\d\d&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="c1"># a dash in a character set specifies a range if it is in between, otherwise the dash itself</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;only dates with - or . in between in May, June, July&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d\d\d\d[-.]0[5-7][-.]\d\d&#39;</span><span class="p">)</span> <span class="c1">#  no escape for the . here in the set</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    all dates with a character in between</span>
<span class="go">    &lt;re.Match object; span=(13, 23), match=&#39;2020.04.01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(25, 35), match=&#39;2020-04-01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(36, 46), match=&#39;2020-05-23&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(47, 57), match=&#39;2020-06-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(58, 68), match=&#39;2020-07-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(69, 79), match=&#39;2020-08-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(81, 91), match=&#39;2020/04/02&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(93, 103), match=&#39;2020_04_04&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(104, 114), match=&#39;2020_04_04&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    only dates with - or . in between</span>
<span class="go">    &lt;re.Match object; span=(13, 23), match=&#39;2020.04.01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(25, 35), match=&#39;2020-04-01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(36, 46), match=&#39;2020-05-23&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(47, 57), match=&#39;2020-06-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(58, 68), match=&#39;2020-07-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(69, 79), match=&#39;2020-08-11&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    only dates with - or . in between in May or June</span>
<span class="go">    &lt;re.Match object; span=(36, 46), match=&#39;2020-05-23&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(47, 57), match=&#39;2020-06-11&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    only dates with - or . in between in May, June, July</span>
<span class="go">    &lt;re.Match object; span=(36, 46), match=&#39;2020-05-23&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(47, 57), match=&#39;2020-06-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(58, 68), match=&#39;2020-07-11&#39;&gt;</span>
</div></code></pre><h3>Quantifier</h3><ul><li>* : 0 or more</li><li>+ : 1 or more</li><li>? : 0 or 1, used when a character can be optional</li><li>{4} : exact number</li><li>{4,6} : range numbers (min, max)</li></ul><pre><code><div class="highlight"><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;hello_123&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d*&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">()</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;hello_1_2-3&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;_?\d&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">()</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;2020-04-01&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d</span><span class="si">{4}</span><span class="s1">&#39;</span><span class="p">)</span> <span class="c1"># or if you need a range r&#39;\d{3,5}&#39;</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(0, 0), match=&#39;&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(1, 1), match=&#39;&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(2, 2), match=&#39;&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(3, 3), match=&#39;&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(4, 4), match=&#39;&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(5, 5), match=&#39;&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(6, 9), match=&#39;123&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(9, 9), match=&#39;&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(6, 9), match=&#39;123&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(5, 7), match=&#39;_1&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(7, 9), match=&#39;_2&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(10, 11), match=&#39;3&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(0, 4), match=&#39;2020&#39;&gt;</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="n">dates</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">2020.04.01</span>

<span class="s1">2020-04-01</span>
<span class="s1">2020-05-23</span>
<span class="s1">2020-06-11</span>
<span class="s1">2020-07-11</span>
<span class="s1">2020-08-11</span>

<span class="s1">2020/04/02</span>

<span class="s1">2020_04_04</span>
<span class="s1">2020_04_04</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d</span><span class="si">{4}</span><span class="s1">.\d</span><span class="si">{2}</span><span class="s1">.\d</span><span class="si">{2}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>

<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+.\d+.\d+&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(1, 11), match=&#39;2020.04.01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(13, 23), match=&#39;2020-04-01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(24, 34), match=&#39;2020-05-23&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(35, 45), match=&#39;2020-06-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(46, 56), match=&#39;2020-07-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(57, 67), match=&#39;2020-08-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(69, 79), match=&#39;2020/04/02&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(81, 91), match=&#39;2020_04_04&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(92, 102), match=&#39;2020_04_04&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(1, 11), match=&#39;2020.04.01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(13, 23), match=&#39;2020-04-01&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(24, 34), match=&#39;2020-05-23&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(35, 45), match=&#39;2020-06-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(46, 56), match=&#39;2020-07-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(57, 67), match=&#39;2020-08-11&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(69, 79), match=&#39;2020/04/02&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(81, 91), match=&#39;2020_04_04&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(92, 102), match=&#39;2020_04_04&#39;&gt;</span>
</div></code></pre><h3>Conditions</h3><p>Use the | for either or condition.</p><pre><code><div class="highlight"><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Mr Simpson</span>
<span class="s2">Mrs Simpson</span>
<span class="s2">Mr. Brown</span>
<span class="s2">Ms Smith</span>
<span class="s2">Mr. T</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Mr\.?\s\w+&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(Mr|Ms|Mrs)\.?\s\w+&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(1, 11), match=&#39;Mr Simpson&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(24, 33), match=&#39;Mr. Brown&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(43, 48), match=&#39;Mr. T&#39;&gt;</span>
<span class="go">    </span>
<span class="go">    &lt;re.Match object; span=(1, 11), match=&#39;Mr Simpson&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(12, 23), match=&#39;Mrs Simpson&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(24, 33), match=&#39;Mr. Brown&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(34, 42), match=&#39;Ms Smith&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(43, 48), match=&#39;Mr. T&#39;&gt;</span>
</div></code></pre><h3>Grouping</h3><p>( ) is used to group substrings in the matches.</p><pre><code><div class="highlight"><span></span><span class="n">emails</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">pythonengineer@gmail.com</span>
<span class="s2">Python-engineer@gmx.de</span>
<span class="s2">python-engineer123@my-domain.org</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;[a-zA-Z1-9-]+@[a-zA-Z-]+\.[a-zA-Z]+&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;[a-zA-Z1-9-]+@[a-zA-Z-]+\.(com|de)&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">&#39;([a-zA-Z1-9-]+)@([a-zA-Z-]+)\.([a-zA-Z]+)&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">emails</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(1, 25), match=&#39;pythonengineer@gmail.com&#39;&gt;</span>
<span class="go">    pythonengineer@gmail.com</span>
<span class="go">    pythonengineer</span>
<span class="go">    gmail</span>
<span class="go">    com</span>
<span class="go">    &lt;re.Match object; span=(26, 48), match=&#39;Python-engineer@gmx.de&#39;&gt;</span>
<span class="go">    Python-engineer@gmx.de</span>
<span class="go">    Python-engineer</span>
<span class="go">    gmx</span>
<span class="go">    de</span>
<span class="go">    &lt;re.Match object; span=(49, 81), match=&#39;python-engineer123@my-domain.org&#39;&gt;</span>
<span class="go">    python-engineer123@my-domain.org</span>
<span class="go">    python-engineer123</span>
<span class="go">    my-domain</span>
<span class="go">    org</span>
</div></code></pre><h3>Modifying strings</h3><ul><li>split(): Split the string into a list, splitting it wherever the RE matches</li><li>sub(): Find all substrings where the RE matches, and replace them with a different string</li></ul><pre><code><div class="highlight"><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;abc123ABCDEF123abc&#39;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;123&#39;</span><span class="p">)</span> <span class="c1">#  no escape for the . here in the set</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>

<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;hello world, you are the best world&quot;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;world&#39;</span><span class="p">)</span>
<span class="n">subbed_string</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;planet&#39;</span><span class="p">,</span> <span class="n">my_string</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">subbed_string</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    [&#39;abc&#39;, &#39;ABCDEF&#39;, &#39;abc&#39;]</span>
<span class="go">    hello planet, you are the best planet</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="n">urls</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">http://python-engineer.com</span>
<span class="s2">https://www.python-engineer.org</span>
<span class="s2">http://www.pyeng.net</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;https?://(www\.)?(\w|-)+\.\w+&#39;</span><span class="p">)</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;https?://(www\.)?([a-zA-Z-]+)(\.\w+)&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">urls</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="c1">#print(match)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">())</span> <span class="c1"># 0</span>
    <span class="c1">#print(match.group(1))</span>
    <span class="c1">#print(match.group(2))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
    
<span class="c1"># substitute using back references to replace url + domain name</span>
<span class="n">subbed_urls</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\2\3&#39;</span><span class="p">,</span> <span class="n">urls</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">subbed_urls</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    http://python-engineer.com</span>
<span class="go">    .com</span>
<span class="go">    https://www.python-engineer.org</span>
<span class="go">    .org</span>
<span class="go">    http://www.pyeng.net</span>
<span class="go">    .net</span>
<span class="go">    </span>
<span class="go">    python-engineer.com</span>
<span class="go">    python-engineer.org</span>
<span class="go">    pyeng.net </span>
</div></code></pre><h3>Compilation Flags</h3><ul><li>ASCII, A : Makes several escapes like &#92;w, &#92;b, &#92;s and &#92;d match only on ASCII characters with the respective property.</li><li>DOTALL, S : Make . match any character, including newlines.</li><li>IGNORECASE, I : Do case-insensitive matches.</li><li>LOCALE, L : Do a locale-aware match.</li><li>MULTILINE, M : Multi-line matching, affecting ^ and $.</li><li>VERBOSE, X (for ‚Äòextended‚Äô) : Enable verbose REs, which can be organized more cleanly and understandably.</li></ul><pre><code><div class="highlight"><span></span><span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;Hello World&quot;</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span> <span class="c1"># No match without I flag</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>

<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">hello</span>
<span class="s1">cool</span>
<span class="s1">Hello</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="c1"># line starts with ...</span>
<span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^[a-z]&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span> <span class="c1"># No match without M flag</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
</div></code></pre><pre><code><div class="highlight"><span></span><span class="go">    &lt;re.Match object; span=(6, 11), match=&#39;World&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(1, 2), match=&#39;h&#39;&gt;</span>
<span class="go">    &lt;re.Match object; span=(7, 8), match=&#39;c&#39;&gt;</span>
</div></code></pre><h3>Further readings</h3><ul><li><a href="https://docs.python.org/3/howto/regex.html">https://docs.python.org/3/howto/regex.html</a></li><li><a href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</a></li><li><a href="https://developers.google.com/edu/python/regular-expressions">https://developers.google.com/edu/python/regular-expressions</a></li></ul></div><ul class="actions"><li><a class="youtube-button" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA?sub_confirmation=1" target="_blank" rel="nofollow">Subscribe</a></li><li><a class="twitter-button" href="https://twitter.com/intent/tweet?via=python_engineer&amp;text=Regular%20Expressions%20in%20Python%20-%20ALL%20You%20Need%20To%20Know&amp;url=https://python-engineer.com/posts/regular-expressions" rel="nofollow" target="_blank">Share</a></li></ul><div class="affiliate-container"><div><h2>FREE VS Code / PyCharm Extensions I Use</h2><p>‚úÖ Write cleaner code with Sourcery, instant refactoring suggestions: <a href="https://sourcery.ai/?utm_source=youtube&amp;utm_campaign=pythonengineer" target="_blank">Link *</a></p><p class="affiliate-note">* This is an affiliate link. By clicking on it you will not have any additional costs, instead you will support me and my project. Thank you! üôè</p></div></div><a class="sponsor-container" href="../../newsletter/index.html" rel="nofollow"><img class="main" src="../../images/numpyhandbook.webp" alt="newsletter"/><div><h2>FREE NumPy Handbook</h2><p>Learn NumPy with this eBook! It covers code examples for all essential functions. Get it for free together with monthly Python tips and news.</p><button class="pill-button">I Want This</button></div></a><div><div><a class="section-header pad-top" href="../../courses/index.html"><h2>Check out my Courses</h2></a><ul class="item-list grid"><li><article class="post-card"><a href="../../courses/tensorflowbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/tfcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-f"><a href="../../tags/tensorflow/index.html">TensorFlow</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/tensorflowbeginner/index.html"><h1 class="description">TensorFlow 2 Beginner</h1><p>Learn all the necessary basics to get started with TensorFlow 2 and Keras.</p></a></article></li><li><article class="post-card"><a href="../../courses/pytorchbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/pytorchcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-c"><a href="../../tags/pytorch/index.html">PyTorch</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/pytorchbeginner/index.html"><h1 class="description">PyTorch Beginner</h1><p>Learn all the necessary basics to get started with this deep learning framework.</p></a></article></li><li><article class="post-card"><a href="../../courses/mlfromscratch/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/mlfromscratch.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-b"><a href="../../tags/machine-learning/index.html">Machine Learning</a></li><li class="variant-d"><a href="../../tags/numpy/index.html">numpy</a></li></ul><a class="post-link" href="../../courses/mlfromscratch/index.html"><h1 class="description">ML From Scratch</h1><p>Implement popular Machine Learning algorithms from scratch using only built-in Python modules and numpy.</p></a></article></li><li><article class="post-card"><a href="../../courses/advancedpython/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/advancedpythoncourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li></ul><a class="post-link" href="../../courses/advancedpython/index.html"><h1 class="description">Advanced Python</h1><p>Advanced Python Tutorials. It covers topics like collections, decorators, generators, multithreading, logging, and much more.</p></a></article></li></ul></div></div></article><footer><div class="wrapper patreon-footer"><h1>Patreon</h1><p>Become a Patron and get exclusive content! Get access to ML From Scratch notebooks, join a private Discord channel, get priority response, and more!</p><div class="gold-patrons"><h3>Special thanks to my Gold Patreons:</h3><p>Tonja J R</p><p>Daniel And Andy</p><p>Sergei</p></div><p>And of course thanks to every other member! I really appreciate the support!</p><a href="https://www.patreon.com/patrickloeber" target="_blank">Find Out More</a></div><div class="wrapper"><p>Copyright ¬© Python Engineer 2022.</p><p>Generated using <a href="https://github.com/johnsundell/publish" target="_blank">Publish</a>.</p><ul class="footer-links"><li><a class="youtube-button youtube-icon" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA" target="_blank">YouTube</a></li><li><a class="social-button twitter-button" href="https://twitter.com/python_engineer" target="_blank">Twitter</a></li><li><a class="social-button github-button" href="https://github.com/python-engineer" target="_blank">GitHub</a></li><li><a class="social-button discord-button" href="https://discord.gg/FHMg9tKFSN" target="_blank">Discord</a></li><li><a class="footer-button" href="../../feed.rss">RSS</a></li><li><a class="footer-button" href="../../about/index.html">Contact</a></li><li><a class="footer-button" href="../../legal-notice/index.html">Legal Notice</a></li><li><a class="footer-button" href="../../privacy-policy/index.html">Privacy Policy</a></li></ul></div></footer></body>
<!-- Mirrored from www.python-engineer.com/posts/regular-expressions/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:54 GMT -->
</html>