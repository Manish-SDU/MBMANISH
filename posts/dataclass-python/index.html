<!DOCTYPE html><html lang="en">
<!-- Mirrored from www.python-engineer.com/posts/dataclass-python/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"/><meta name="og:site_name" content="Python Engineer"/><link rel="canonical" href="https://python-engineer.com/posts/dataclass-python"/><meta name="twitter:url" content="https://python-engineer.com/posts/dataclass-python"/><meta name="og:url" content="https://python-engineer.com/posts/dataclass-python"/><title>Data classes in Python with dataclass decorator | Python Engineer</title><meta name="twitter:title" content="Data classes in Python with dataclass decorator | Python Engineer"/><meta name="og:title" content="Data classes in Python with dataclass decorator | Python Engineer"/><meta name="description" content="Learn the basics of data classes in Python using the dataclasses module and the dataclass decorator with all possible parameters."/><meta name="twitter:description" content="Learn the basics of data classes in Python using the dataclasses module and the dataclass decorator with all possible parameters."/><meta name="og:description" content="Learn the basics of data classes in Python using the dataclasses module and the dataclass decorator with all possible parameters."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="alternate" href="../../feed.rss" type="application/rss+xml" title="Subscribe to Python Engineer"/><meta name="twitter:image" content="../../images/icon.png"/><meta name="og:image" content="../../images/icon.png"/><script async defer data-domain="python-engineer.com" src="../../../plausible.io/js/plausible.js"></script></head><body class="item"><header><div class="header-promotion"><p><div class="wrapper"><p><a href="https://pythonengineer.pallet.com/" target="_blank">üêç Find Python and ML Jobs! üêç</a></p></div></p></div><div class="wrapper"><nav><ul><li class="selected"><a href="../index.html">POSTS</a></li><li><a href="../../courses/index.html">COURSES</a></li><li><a href="../../about/index.html">ABOUT</a></li></ul></nav><a href="../../index.html"><div class="hero-container"><img class="header-image-small" src="../../images/pat_face_bg.webp" alt="Patrick Loeber"/><div class="hero-text-container justify-center"><p>Become a</p><h1 class="colorized-text ">Python Engineer</h1><p class="mobile-hide">Come and learn about</p><ul class="mobile-hide"><li><a class="variant-a" href="../../tags/python/index.html">Python</a></li><li id="regular-li">and</li><li><a class="variant-b" href="../../tags/machine-learning/index.html">Machine Learning</a></li></ul></div></div></a></div></header><article class="page wrapper post-page"><h1 class="blog-header">Data classes in Python with dataclass decorator</h1><div class="metadata"><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-a"><a href="../../tags/basics/index.html">Basics</a></li></ul><span class="post-date">09 Mar 2022, by </span><a class="author-link-post" href="../../authors/shweta/index.html">Shweta Goyal</a></div><div class="content page-content"><p>Learn the basics of data classes in Python using the <code>dataclasses</code> module and the <code>dataclass</code> decorator with all possible parameters.</p><p>Data classes are regular classes that are geared towards storing state, rather than containing a lot of logic. If you need a class that mostly consists of attributes, and don't need a lot of methods, you can make a data class.</p><p>The <a href="https://docs.python.org/3/library/dataclasses.html">dataclasses module</a> makes it easier to create data classes since it takes care of a lot of boilerplate for you. It provides the <code>dataclass</code> decorator that automatically adds <a href="https://docs.python.org/3/glossary.html#term-special-method">special methods</a> such as <code>__init__()</code> and <code>__repr__()</code> to user-defined classes.</p><p>Moreover, it offers some additional functions that are handy when working with a dataclass.</p><h2>A regular class without dataclass</h2><p>First, let's see a regular class. Here, we have to implement all methods ourselves to get the behavior we want:</p><pre><code><div class="highlight"><span></span><span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="c1"># Instance variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="nb">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="s2">&quot;Student Info: id=</span><span class="si">{}</span><span class="s2">, name=</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>

<span class="n">student</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="s2">&quot;Paul&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">student</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">Student Info: id=22, name=Paul</span>
</div></code></pre><p>Now let's see how we can achieve the same behaviour with much less code using <code>dataclass</code>.</p><h2>An example using <code>dataclass</code></h2><p>Let‚Äôs implement the same class using the <code>dataclass</code> decorator:</p><pre><code><div class="highlight"><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="n">student</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="s2">&quot;Paul&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">student</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">Student(id=22, name=&#39;Paul&#39;)</span>
</div></code></pre><p>Here, we don‚Äôt have to define separate functions like <code>__init__()</code> and <code>__repr__(), since the </code>dataclass` decorator will add this for us.</p><h2>Default Values in Data Classes</h2><p>You can assign default values to your fields. Then we don't have to use them in the constructor. Let‚Äôs see an example:</p><pre><code><div class="highlight"><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> 
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span>


<span class="n">student</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="mi">22</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">student</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">Student(id=22, name=&#39;John&#39;)</span>
</div></code></pre><p>Note: Default values attributes must appear after the ones without default values, otherwise you will get an error.</p><h2>Immutable/Frozen Data Classes</h2><p>Immutable objects mean you can‚Äôt change the values of attributes after it is created. They are read-only objects.</p><p>You have to set the <code>frozen</code> parameter from the <code>dataclass</code> decorator to True to make the data class immutable. By default, data classes are mutable.</p><p>Let‚Äôs see an example:</p><pre><code><div class="highlight"><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>

<span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> 
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span>


<span class="n">student</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="s2">&quot;Paul&quot;</span><span class="p">)</span>
<span class="n">student</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">20</span>
</div></code></pre><p>This will raise a <code>FrozenInstanceError</code>:</p><pre><code><div class="highlight"><span></span><span class="go">dataclasses.FrozenInstanceError: cannot assign to field &#39;id&#39;</span>
</div></code></pre><p>In the example above, if you change the value of the attribute after setting the frozen parameter to True, you will get an error.</p><h2>Conversion to a tuple or a dictionary</h2><p>There are two functions in the data class module which are <code>astuple()</code> and <code>asdict()</code> and they convert a data class instance to a tuple or a dictionary. Let's see an example:</p><pre><code><div class="highlight"><span></span><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">astuple</span><span class="p">,</span> <span class="n">asdict</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Student</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span> 
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> 


<span class="n">student</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span> <span class="s2">&quot;Paul&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tuple:&quot;</span><span class="p">,</span> <span class="n">astuple</span><span class="p">(</span><span class="n">student</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dictionary:&quot;</span><span class="p">,</span> <span class="n">asdict</span><span class="p">(</span><span class="n">student</span><span class="p">))</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">Tuple: (22, &#39;Paul&#39;)</span>
<span class="go">Dictionary: {&#39;id&#39;: 22, &#39;name&#39;: &#39;Paul&#39;}</span>
</div></code></pre><h2>Full dataclass syntax and optional parameters</h2><p>The full dataclass decorator can have these optional arguments:</p><pre><code><div class="highlight"><span></span><span class="n">dataclass</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">eq</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
             <span class="n">order</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">unsafe_hash</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
             <span class="n">match_args</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">kw_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">slots</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</div></code></pre><p><code>*</code> here means that all arguments must be passed as keyword arguments. Let's look at the different arguments in detail:</p><ul><li><code>init</code>: This is for initialization. It is True by default and it will be generated automatically. If the class defines it explicitly then this method will be ignored.</li></ul><ul><li><code>repr</code>: This is for the representation of string objects and they are returned in the order they are defined. It is True by default and it will be generated automatically. If the class defines it automatically then this method will be ignored.</li></ul><ul><li><code>eq</code>: This is for the equality between two objects and it checks if the two objects have the same data. It is True by default and it will be generated automatically. If the class defines it automatically then this method will be ignored.</li></ul><ul><li><code>order</code>: This is for the comparison and if it is True then it will generate the methods <code>__lt__()</code>, <code>__le__()</code>, <code>__gt__()</code>, and <code>__ge__()</code>. This is False by default.</li></ul><ul><li><code>unsafe_hash</code>: If it is False then it will generate <code>__hash__()</code> method according to how <code>eq</code> and `frozen are set. This is False by default.</li></ul><ul><li><code>frozen</code>: If it is True then it will generate an exception when assigned to fields. This is False by default.</li></ul><p>Note: If the <code>order</code> is True then `eq must be True, otherwise you will get a ValueError.</p><p>To read about the other arguments, you can have a look at the <a href="https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass">official documentation</a>.</p><h2>Conclusion</h2><p>In this article, you have learned about the data classes and how they can make your code more readable. This is a beginner-friendly article and there are so many things that you can learn and implement. You can get more information from their <a href="https://docs.python.org/3/library/dataclasses.html">official site</a>.</p></div><ul class="actions"><li><a class="youtube-button" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA?sub_confirmation=1" target="_blank" rel="nofollow">Subscribe</a></li><li><a class="twitter-button" href="https://twitter.com/intent/tweet?via=python_engineer&amp;text=Data%20classes%20in%20Python%20with%20dataclass%20decorator&amp;url=https://python-engineer.com/posts/dataclass-python" rel="nofollow" target="_blank">Share</a></li></ul><div class="affiliate-container"><div><h2>FREE VS Code / PyCharm Extensions I Use</h2><p>‚úÖ Write cleaner code with Sourcery, instant refactoring suggestions: <a href="https://sourcery.ai/?utm_source=youtube&amp;utm_campaign=pythonengineer" target="_blank">Link *</a></p><p class="affiliate-note">* This is an affiliate link. By clicking on it you will not have any additional costs, instead you will support me and my project. Thank you! üôè</p></div></div><a class="sponsor-container" href="../../newsletter/index.html" rel="nofollow"><img class="main" src="../../images/numpyhandbook.webp" alt="newsletter"/><div><h2>FREE NumPy Handbook</h2><p>Learn NumPy with this eBook! It covers code examples for all essential functions. Get it for free together with monthly Python tips and news.</p><button class="pill-button">I Want This</button></div></a><div><div><a class="section-header pad-top" href="../../courses/index.html"><h2>Check out my Courses</h2></a><ul class="item-list grid"><li><article class="post-card"><a href="../../courses/tensorflowbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/tfcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-f"><a href="../../tags/tensorflow/index.html">TensorFlow</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/tensorflowbeginner/index.html"><h1 class="description">TensorFlow 2 Beginner</h1><p>Learn all the necessary basics to get started with TensorFlow 2 and Keras.</p></a></article></li><li><article class="post-card"><a href="../../courses/pytorchbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/pytorchcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-c"><a href="../../tags/pytorch/index.html">PyTorch</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/pytorchbeginner/index.html"><h1 class="description">PyTorch Beginner</h1><p>Learn all the necessary basics to get started with this deep learning framework.</p></a></article></li><li><article class="post-card"><a href="../../courses/mlfromscratch/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/mlfromscratch.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-b"><a href="../../tags/machine-learning/index.html">Machine Learning</a></li><li class="variant-d"><a href="../../tags/numpy/index.html">numpy</a></li></ul><a class="post-link" href="../../courses/mlfromscratch/index.html"><h1 class="description">ML From Scratch</h1><p>Implement popular Machine Learning algorithms from scratch using only built-in Python modules and numpy.</p></a></article></li><li><article class="post-card"><a href="../../courses/advancedpython/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/advancedpythoncourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li></ul><a class="post-link" href="../../courses/advancedpython/index.html"><h1 class="description">Advanced Python</h1><p>Advanced Python Tutorials. It covers topics like collections, decorators, generators, multithreading, logging, and much more.</p></a></article></li></ul></div></div></article><footer><div class="wrapper patreon-footer"><h1>Patreon</h1><p>Become a Patron and get exclusive content! Get access to ML From Scratch notebooks, join a private Discord channel, get priority response, and more!</p><div class="gold-patrons"><h3>Special thanks to my Gold Patreons:</h3><p>Tonja J R</p><p>Daniel And Andy</p><p>Sergei</p></div><p>And of course thanks to every other member! I really appreciate the support!</p><a href="https://www.patreon.com/patrickloeber" target="_blank">Find Out More</a></div><div class="wrapper"><p>Copyright ¬© Python Engineer 2022.</p><p>Generated using <a href="https://github.com/johnsundell/publish" target="_blank">Publish</a>.</p><ul class="footer-links"><li><a class="youtube-button youtube-icon" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA" target="_blank">YouTube</a></li><li><a class="social-button twitter-button" href="https://twitter.com/python_engineer" target="_blank">Twitter</a></li><li><a class="social-button github-button" href="https://github.com/python-engineer" target="_blank">GitHub</a></li><li><a class="social-button discord-button" href="https://discord.gg/FHMg9tKFSN" target="_blank">Discord</a></li><li><a class="footer-button" href="../../feed.rss">RSS</a></li><li><a class="footer-button" href="../../about/index.html">Contact</a></li><li><a class="footer-button" href="../../legal-notice/index.html">Legal Notice</a></li><li><a class="footer-button" href="../../privacy-policy/index.html">Privacy Policy</a></li></ul></div></footer></body>
<!-- Mirrored from www.python-engineer.com/posts/dataclass-python/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:39 GMT -->
</html>