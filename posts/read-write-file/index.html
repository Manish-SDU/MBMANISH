<!DOCTYPE html><html lang="en">
<!-- Mirrored from www.python-engineer.com/posts/read-write-file/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8"/><meta name="og:site_name" content="Python Engineer"/><link rel="canonical" href="https://python-engineer.com/posts/read-write-file"/><meta name="twitter:url" content="https://python-engineer.com/posts/read-write-file"/><meta name="og:url" content="https://python-engineer.com/posts/read-write-file"/><title>How to read and write files in Python | Python Engineer</title><meta name="twitter:title" content="How to read and write files in Python | Python Engineer"/><meta name="og:title" content="How to read and write files in Python | Python Engineer"/><meta name="description" content="An easy guide to master file handling in Python."/><meta name="twitter:description" content="An easy guide to master file handling in Python."/><meta name="og:description" content="An easy guide to master file handling in Python."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="../../images/favicon.png" type="image/png"/><link rel="alternate" href="../../feed.rss" type="application/rss+xml" title="Subscribe to Python Engineer"/><meta name="twitter:image" content="../../images/icon.png"/><meta name="og:image" content="../../images/icon.png"/><script async defer data-domain="python-engineer.com" src="../../../plausible.io/js/plausible.js"></script></head><body class="item"><header><div class="header-promotion"><p><div class="wrapper"><p><a href="https://pythonengineer.pallet.com/" target="_blank">üêç Find Python and ML Jobs! üêç</a></p></div></p></div><div class="wrapper"><nav><ul><li class="selected"><a href="../index.html">POSTS</a></li><li><a href="../../courses/index.html">COURSES</a></li><li><a href="../../about/index.html">ABOUT</a></li></ul></nav><a href="../../index.html"><div class="hero-container"><img class="header-image-small" src="../../images/pat_face_bg.webp" alt="Patrick Loeber"/><div class="hero-text-container justify-center"><p>Become a</p><h1 class="colorized-text ">Python Engineer</h1><p class="mobile-hide">Come and learn about</p><ul class="mobile-hide"><li><a class="variant-a" href="../../tags/python/index.html">Python</a></li><li id="regular-li">and</li><li><a class="variant-b" href="../../tags/machine-learning/index.html">Machine Learning</a></li></ul></div></div></a></div></header><article class="page wrapper post-page"><h1 class="blog-header">How to read and write files in Python</h1><div class="metadata"><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-a"><a href="../../tags/basics/index.html">Basics</a></li></ul><span class="post-date">07 Jan 2022, by </span><a class="author-link-post" href="../../authors/pratik/index.html">Pratik Choudhari</a></div><div class="content page-content"><p>Python has in-built functions which can be used to perform file operations such as opening a file, reading its content, writing content, and closing a file.</p><p>The term <code>file</code> can be defined as a container that is used to store data on computers, these containers can be referenced by a name called <em>filename</em>.</p><p>In general, when working with files, the following process is followed:</p><ul><li>1. Opening of a file</li><li>2. Read/Write content</li><li>3. Closing of file</li></ul><h2>1. Opening a file</h2><p><a href="https://docs.python.org/3/library/functions.html#open"><code>open()</code></a> function is used to open a file in Python, the return value of <code>open()</code> is a python file pointer or a handler that points to the file on the computer. Hence, any further operations on a file have to be performed via a python file object.</p><p><code>open()</code> has one required argument, <em>file</em>, which is the path to the target file.</p><p>Python supports multiple modes to open a file, all are listed below:</p><ul><li>r : open for reading (default)</li><li>w : open for writing, truncating the file first</li><li>a : open for writing, appending to the end of the file if it exists</li><li>x : open for exclusive creation, failing if the file already exists</li><li>b : binary mode</li><li>t : text mode (default)</li><li>+ : open for updating (reading and writing)</li></ul><p>When <em>mode</em> is not specified, the default mode is "r".</p><p>Example:</p><h3>Opening in reading mode</h3><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file_pointer</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">&lt;_io.TextIOWrapper name=&#39;foo.txt&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;</span>
</div></code></pre><h3>Opening in write mode</h3><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">file_pointer</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">&lt;_io.TextIOWrapper name=&#39;foo.txt&#39; mode=&#39;w&#39; encoding=&#39;UTF-8&#39;&gt;</span>
</div></code></pre><h2>2. Reading file contents</h2><p>File handlers create using <code>open()</code> are used to read file contents using three methods, we will understand the working of each with examples.</p><h3>fp.read()</h3><p><code>read()</code> is used to read the contents of a file, this method takes an optional <code>size</code> argument, which specifies the number of characters to read. If no size is specified entire file contents are read by default.</p><p>Example:</p><p>Reading entire contents</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">&#39;Primary colors:\n1. Red\n2. Green\n3. Blue\n&#39;</span>
</div></code></pre><p>Note: After reading all file contents and re-executing <code>fp.read()</code> an empty string will be returned, this is because <code>fp.read()</code> maintains a cursor on file content and does not reset by default. The <code>fp.seek(position)</code> method is used to seek the cursor.<br>Reading first 5 characters</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">&#39;Prima&#39;</span>
</div></code></pre><p>Reading first 5 characters then next 7 characters</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>

<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">&#39;Prima&#39;</span>
<span class="go">&#39;ry colo&#39;</span>
</div></code></pre><h3>fp.readline()</h3><p>Reads a file line by line, returns a line as string. <code>fp.readline()</code> too maintains a cursor and therefore on re-execution yields next line. a Example:</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">&#39;Primary colors:\n&#39;</span>
</div></code></pre><h3>fp.readlines()</h3><p><code>fp.readlines()</code> returns a list of lines from a file. Instead of using loops for getting all lines through <code>fp.readline()</code>, this function will provide user with a collection of all lines.</p><p>Example:</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">[&#39;Primary colors:\n&#39;, &#39;1. Red\n&#39;, &#39;2. Green\n&#39;, &#39;3. Blue\n&#39;]</span>
</div></code></pre><h2>3. Writing contents to file</h2><p>While writing files they must be opened in either of w(write), a(append), or x(exclusive creation) modes. Append mode allows only appending data to the file, write mode erases the file contents and overwrites the file and exclusive creation works similar to writing but the file being opened should not exist on the computer.</p><p>Example:</p><p>foo.txt before write:</p><pre><code><div class="highlight"><span></span><span class="go">Primary colors:</span>
<span class="go">1. Red</span>
<span class="go">2. Green</span>
<span class="go">3. Blue</span>
</div></code></pre><p>Code:</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">file_pointer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">file_pointer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Secondary colors:&quot;</span><span class="p">)</span>
<span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</div></code></pre><p>foo.txt after write:</p><pre><code><div class="highlight"><span></span><span class="go">Primary colors:</span>
<span class="go">1. Red</span>
<span class="go">2. Green</span>
<span class="go">3. Blue</span>

<span class="go">Secondary colors:</span>
</div></code></pre><h2>4. Closing file handles</h2><p>Whenever a file pointer is opened, it is advised to close it after it is used, this is to make sure there are no dangling pointers in memory.</p><p>Example:</p><pre><code><div class="highlight"><span></span><span class="n">file_pointer</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span>
<span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="n">file_pointer</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">[&#39;Primary colors:\n&#39;, &#39;1. Red\n&#39;, &#39;2. Green\n&#39;, &#39;3. Blue\n&#39;]</span>
</div></code></pre><h2>File handling using a context manager</h2><p>This is the preferred method for dealing with files. Context managers are used to making sure a resource is closed once it is used. The <code>with</code> statement in python is an in-built context manager, it spawns the resource once execution enters into the runtime context and closes the resource while exiting.</p><p>Example:</p><pre><code><div class="highlight"><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/home/user/foo.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_pointer</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">file_pointer</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</div></code></pre><p>Output:</p><pre><code><div class="highlight"><span></span><span class="go">[&#39;Primary colors:\n&#39;, &#39;1. Red\n&#39;, &#39;2. Green\n&#39;, &#39;3. Blue\n&#39;]</span>
</div></code></pre></div><ul class="actions"><li><a class="youtube-button" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA?sub_confirmation=1" target="_blank" rel="nofollow">Subscribe</a></li><li><a class="twitter-button" href="https://twitter.com/intent/tweet?via=python_engineer&amp;text=How%20to%20read%20and%20write%20files%20in%20Python&amp;url=https://python-engineer.com/posts/read-write-file" rel="nofollow" target="_blank">Share</a></li></ul><div class="affiliate-container"><div><h2>FREE VS Code / PyCharm Extensions I Use</h2><p>‚úÖ Write cleaner code with Sourcery, instant refactoring suggestions: <a href="https://sourcery.ai/?utm_source=youtube&amp;utm_campaign=pythonengineer" target="_blank">Link *</a></p><p class="affiliate-note">* This is an affiliate link. By clicking on it you will not have any additional costs, instead you will support me and my project. Thank you! üôè</p></div></div><a class="sponsor-container" href="../../newsletter/index.html" rel="nofollow"><img class="main" src="../../images/numpyhandbook.webp" alt="newsletter"/><div><h2>FREE NumPy Handbook</h2><p>Learn NumPy with this eBook! It covers code examples for all essential functions. Get it for free together with monthly Python tips and news.</p><button class="pill-button">I Want This</button></div></a><div><div><a class="section-header pad-top" href="../../courses/index.html"><h2>Check out my Courses</h2></a><ul class="item-list grid"><li><article class="post-card"><a href="../../courses/tensorflowbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/tfcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-f"><a href="../../tags/tensorflow/index.html">TensorFlow</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/tensorflowbeginner/index.html"><h1 class="description">TensorFlow 2 Beginner</h1><p>Learn all the necessary basics to get started with TensorFlow 2 and Keras.</p></a></article></li><li><article class="post-card"><a href="../../courses/pytorchbeginner/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/pytorchcourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-c"><a href="../../tags/pytorch/index.html">PyTorch</a></li><li class="variant-c"><a href="../../tags/deep-learning/index.html">Deep Learning</a></li></ul><a class="post-link" href="../../courses/pytorchbeginner/index.html"><h1 class="description">PyTorch Beginner</h1><p>Learn all the necessary basics to get started with this deep learning framework.</p></a></article></li><li><article class="post-card"><a href="../../courses/mlfromscratch/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/mlfromscratch.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li><li class="variant-b"><a href="../../tags/machine-learning/index.html">Machine Learning</a></li><li class="variant-d"><a href="../../tags/numpy/index.html">numpy</a></li></ul><a class="post-link" href="../../courses/mlfromscratch/index.html"><h1 class="description">ML From Scratch</h1><p>Implement popular Machine Learning algorithms from scratch using only built-in Python modules and numpy.</p></a></article></li><li><article class="post-card"><a href="../../courses/advancedpython/index.html"><img class="post-thumb" alt="Thumbnail image of the post." src="../../images/titles/advancedpythoncourse.webp"/></a><ul class="tags"><li class="variant-a"><a href="../../tags/python/index.html">Python</a></li></ul><a class="post-link" href="../../courses/advancedpython/index.html"><h1 class="description">Advanced Python</h1><p>Advanced Python Tutorials. It covers topics like collections, decorators, generators, multithreading, logging, and much more.</p></a></article></li></ul></div></div></article><footer><div class="wrapper patreon-footer"><h1>Patreon</h1><p>Become a Patron and get exclusive content! Get access to ML From Scratch notebooks, join a private Discord channel, get priority response, and more!</p><div class="gold-patrons"><h3>Special thanks to my Gold Patreons:</h3><p>Tonja J R</p><p>Daniel And Andy</p><p>Sergei</p></div><p>And of course thanks to every other member! I really appreciate the support!</p><a href="https://www.patreon.com/patrickloeber" target="_blank">Find Out More</a></div><div class="wrapper"><p>Copyright ¬© Python Engineer 2022.</p><p>Generated using <a href="https://github.com/johnsundell/publish" target="_blank">Publish</a>.</p><ul class="footer-links"><li><a class="youtube-button youtube-icon" href="https://www.youtube.com/channel/UCbXgNpp0jedKWcQiULLbDTA" target="_blank">YouTube</a></li><li><a class="social-button twitter-button" href="https://twitter.com/python_engineer" target="_blank">Twitter</a></li><li><a class="social-button github-button" href="https://github.com/python-engineer" target="_blank">GitHub</a></li><li><a class="social-button discord-button" href="https://discord.gg/FHMg9tKFSN" target="_blank">Discord</a></li><li><a class="footer-button" href="../../feed.rss">RSS</a></li><li><a class="footer-button" href="../../about/index.html">Contact</a></li><li><a class="footer-button" href="../../legal-notice/index.html">Legal Notice</a></li><li><a class="footer-button" href="../../privacy-policy/index.html">Privacy Policy</a></li></ul></div></footer></body>
<!-- Mirrored from www.python-engineer.com/posts/read-write-file/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 04 Sep 2022 12:01:47 GMT -->
</html>